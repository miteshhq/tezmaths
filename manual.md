fixes about the cleanups and slow performance of battle results and errs related to it.